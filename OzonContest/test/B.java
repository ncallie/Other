import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.*;
 
public class Program {
    public static void main(String[] args) throws IOException {
        long startTime = System.nanoTime();
        int nice = 1;
        StringBuilder res = new StringBuilder();
        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
        int numbTests = Integer.parseInt(reader.readLine());
        for (int i = 0; i < numbTests; ++i) {
            int numTasks = Integer.parseInt(reader.readLine());
            List<Integer> data = new ArrayList<>(numTasks);
            int[] dataCopy = new int[numTasks];
            int[] result = new int[numTasks];
            String[] s = reader.readLine().split(" ");
            for (int j = 0; j < numTasks; ++j) {
                dataCopy[j] = Integer.parseInt(s[j]);
                data.add(dataCopy[j]);
            }
            while (!data.isEmpty()) {
                Integer max = data.stream().max(Integer::compareTo).get();
                for (int g = 0; g < dataCopy.length; ++g) {
                    if (dataCopy[g] == max || dataCopy[g] == (max - 1)) {
                        result[g] = nice;
                    }
                }
                data.removeIf(value -> (int)value == max || (value == (max - 1)));
                ++nice;
            }
            nice = 1;
            for (int c : result) {
                res.append(c).append(" ");
            }
            System.out.print(res + "\n");
            res.setLength(0);
        }
    }
}

// B. –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∑–∞–¥–∞–Ω–∏–π (10 –±–∞–ª–ª–æ–≤)
// –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ç–µ—Å—Ç3 —Å–µ–∫—É–Ω–¥—ã
// –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø–∞–º—è—Ç–∏ –Ω–∞ —Ç–µ—Å—Ç256 –º–µ–≥–∞–±–∞–π—Ç
// –≤–≤–æ–¥—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥
// –≤—ã–≤–æ–¥—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
// –í–∞–º –Ω–∞–¥–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∞—Ç—å –ø–æ–¥—Å–∏—Å—Ç–µ–º—É –ø—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏–∏ –∑–∞–¥–∞–Ω–∏–π.

// –í —Å–∏—Å—Ç–µ–º–µ –µ—Å—Ç—å ùëõ –∑–∞–¥–∞–Ω–∏–π, ùëñ-–µ –∑–∞–¥–∞–Ω–∏–µ –∏–º–µ–µ—Ç –≤–∞–∂–Ω–æ—Å—Ç—å ùëüùëñ (1‚â§ùëüùëñ‚â§109).

// –ö–∞–∂–¥–æ–º—É –∑–∞–¥–∞–Ω–∏—é –Ω–∞–¥–æ –Ω–∞–∑–Ω–∞—á–∏—Ç—å nice-–∑–Ω–∞—á–µ–Ω–∏–µ ‚Äî —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ –æ—Ç 1 –∏ –±–æ–ª–µ–µ. –ß–µ–º –Ω–∏–∂–µ —ç—Ç–æ —á–∏—Å–ª–æ, —Ç–µ–º –≤—ã—à–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç —É –∑–∞–¥–∞–Ω–∏—è.

// –ü—É—Å—Ç—å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤–∞–∂–Ω–æ—Å—Ç–∏ —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö –∑–∞–¥–∞–Ω–∏–π —Ä–∞–≤–Ω–æ ùëöùëéùë•ùëü, —Ç–æ–≥–¥–∞ nice-–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–∞–≤–Ω–æ–µ 1 –ø–æ–ª—É—á–∞—Ç –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è —Å –≤–∞–∂–Ω–æ—Å—Ç—å—é ùëöùëéùë•ùëü –∏ —Ç–µ, –≤–∞–∂–Ω–æ—Å—Ç—å –∫–æ—Ç–æ—Ä—ã—Ö –Ω–∞ 1 –º–µ–Ω—å—à–µ.

// –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É–¥–∞–ª–∏–º –∏–∑ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º nice-–∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ –Ω–∞–∑–Ω–∞—á–∏–º nice-–∑–Ω–∞—á–µ–Ω–∏–µ 2, –ø–æ–≤—Ç–æ—Ä–∏–≤ –æ–ø–∏—Å–∞–Ω–Ω—É—é –≤—ã—à–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—É.

// –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ —É–¥–∞–ª–∏–º –∏–∑ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–Ω–∏—è –≤—Å–µ –∑–∞–¥–∞–Ω–∏—è —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º nice-–∑–Ω–∞—á–µ–Ω–∏–µ–º –∏ –Ω–∞–∑–Ω–∞—á–∏–º nice-–∑–Ω–∞—á–µ–Ω–∏–µ 3, –ø–æ–≤—Ç–æ—Ä–∏–≤ –æ–ø–∏—Å–∞–Ω–Ω—É—é –≤—ã—à–µ –ø—Ä–æ—Ü–µ–¥—É—Ä—É.

// –ò —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–æ —Ç–µ—Ö –ø–æ—Ä, –ø–æ–∫–∞ –µ—Å—Ç—å —Ö–æ—Ç—è –±—ã –æ–¥–Ω–æ –∑–∞–¥–∞–Ω–∏–µ –±–µ–∑ nice-–∑–Ω–∞—á–µ–Ω–∏—è.

// –î–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–¥–∞–Ω–∏—è –≤—ã–≤–µ–¥–∏—Ç–µ –µ–≥–æ nice-–∑–Ω–∞—á–µ–Ω–∏–µ.

// –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// –í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –∑–∞–ø–∏—Å–∞–Ω–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ ùë° (1‚â§ùë°‚â§104) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–æ—Ä–æ–≤ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ—Å—Ç–µ.

// –î–∞–ª–µ–µ —Å–ª–µ–¥—É—é—Ç –æ–ø–∏—Å–∞–Ω–∏—è –Ω–∞–±–æ—Ä–æ–≤, –∫–∞–∂–¥—ã–π –Ω–∞–±–æ—Ä –∑–∞–¥–∞–µ—Ç—Å—è –¥–≤—É–º—è —Å—Ç—Ä–æ–∫–∞–º–∏.

// –ü–µ—Ä–≤–∞—è –∏–∑ –Ω–∏—Ö —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ ùëõ (1‚â§ùëõ‚â§2‚ãÖ105) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞–Ω–∏–π.

// –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç ùëõ —Ü–µ–ª—ã—Ö —á–∏—Å–µ–ª ùëü1,ùëü2,‚Ä¶,ùëüùëõ (1‚â§ùëüùëñ‚â§109) ‚Äî –≤–∞–∂–Ω–æ—Å—Ç–∏ –∑–∞–¥–∞–Ω–∏–π.

// –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç—Å—è, —á—Ç–æ —Å—É–º–º–∞ –∑–Ω–∞—á–µ–Ω–∏–π ùëõ –≤ —Ç–µ—Å—Ç–µ –Ω–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç 2‚ãÖ105.

// –ù–µ–ø–æ–ª–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ü–µ–Ω–µ–Ω—ã —á–∞—Å—Ç–∏—á–Ω—ã–º –±–∞–ª–ª–æ–º.

// –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// –î–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–∞–±–æ—Ä–∞ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã–≤–µ–¥–∏—Ç–µ –æ–¥–Ω—É —Å—Ç—Ä–æ–∫—É, –∫–æ—Ç–æ—Ä–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç ùëõ —á–∏—Å–µ–ª ùë£1,ùë£2,‚Ä¶,ùë£ùëõ, –≥–¥–µ ùë£ùëñ ‚Äî nice-–∑–Ω–∞—á–µ–Ω–∏–µ, –∫–æ—Ç–æ—Ä–æ–µ –ø–æ–ª—É—á–∏–ª–æ –∑–∞–¥–∞–Ω–∏–µ ùëñ.