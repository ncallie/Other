import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.nio.charset.StandardCharsets;
import java.util.LinkedHashMap;
import java.util.Locale;
import java.util.Map;
import java.util.regex.Pattern;

public class Program {
    public static void main(String[] args) throws IOException {
        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
        int countTests = Integer.parseInt(reader.readLine());
        for (int j = 0; j < countTests; ++j) {
            int attemptsAut = Integer.parseInt(reader.readLine());
            LinkedHashMap<String, String> logins = new LinkedHashMap<>(attemptsAut);
            for (int i = 0; i < attemptsAut; ++i) {
                String login = reader.readLine().toLowerCase();
                if (logins.containsKey(login))
                    logins.put(login + i, "NO");
                if (login.length() < 2 || login.length() > 24)
                    logins.put(login, "NO");
                else if (!login.matches("[A-Za-z0-9_-]{0,24}$"))
                    logins.put(login, "NO");
                else if (login.startsWith("-"))
                    logins.put(login, "NO");
                else
                    logins.put(login, "YES");
            }
            for(Map.Entry entry : logins.entrySet()) {
                System.out.print(entry.getValue() + "\n");
            }
            System.out.print("\n");
        }
    }
}

// C. –ü–æ–¥—Å–∏—Å—Ç–µ–º–∞ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ (15 –±–∞–ª–ª–æ–≤)
// –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ç–µ—Å—Ç5 —Å–µ–∫—É–Ω–¥
// –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø–∞–º—è—Ç–∏ –Ω–∞ —Ç–µ—Å—Ç256 –º–µ–≥–∞–±–∞–π—Ç
// –≤–≤–æ–¥—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤–≤–æ–¥
// –≤—ã–≤–æ–¥—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –≤—ã–≤–æ–¥
// –†–µ–∞–ª–∏–∑—É–π—Ç–µ —á–∞—Å—Ç—å –ø–æ–¥—Å–∏—Å—Ç–µ–º—ã –≤–∞–ª–∏–¥–∞—Ü–∏–∏ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏.

// –ó–∞–¥–∞–Ω–∞ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å—Ç—Ä–æ–∫ ‚Äî —ç—Ç–æ –ª–æ–≥–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑—ã–≤–∞–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –ø—Ä–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏. –î–ª—è –∫–∞–∂–¥–æ–≥–æ –ª–æ–≥–∏–Ω–∞ –≤—ã–≤–µ—Å—Ç–∏ YES –∏–ª–∏ NO –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–æ–≥–æ –≤–∞–ª–∏–¥–Ω—ã–π —ç—Ç–æ –ª–æ–≥–∏–Ω –∏–ª–∏ –Ω–µ—Ç.

// –ù–∞–¥–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å, —á—Ç–æ –ª–æ–≥–∏–Ω ‚Äî —ç—Ç–æ –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∏–∑ –ª–∞—Ç–∏–Ω—Å–∫–∏—Ö –±—É–∫–≤ –≤ –ª—é–±–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ, —Ü–∏—Ñ—Ä –∏ —Å–∏–º–≤–æ–ª–æ–≤ '_' –∏–ª–∏ '-' (–ø–æ–¥—á–µ—Ä–∫–∏–≤–∞–Ω–∏–µ –∏ –¥–µ—Ñ–∏—Å). –õ–æ–≥–∏–Ω –Ω–µ –¥–æ–ª–∂–µ–Ω –Ω–∞—á–∏–Ω–∞—Ç—å—Å—è —Å –¥–µ—Ñ–∏—Å–∞. –õ–æ–≥–∏–Ω –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –¥–ª–∏–Ω—É –æ—Ç 2 –¥–æ 24 —Å–∏–º–≤–æ–ª–æ–≤. –õ–æ–≥–∏–Ω—ã, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç–ª–∏—á–∞—é—Ç—Å—è —Ç–æ–ª—å–∫–æ —Ä–µ–≥–∏—Å—Ç—Ä–æ–º, —Å—á–∏—Ç–∞—é—Ç—Å—è –æ–¥–∏–Ω–∞–∫–æ–≤—ã–º–∏.

// –ï—Å–ª–∏ –ª–æ–≥–∏–Ω –∑–∞–¥–∞–Ω –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ, —Ç–æ —Ç–æ–ª—å–∫–æ –ø–µ—Ä–≤–æ–µ –µ–≥–æ –≤—Ö–æ–∂–¥–µ–Ω–∏–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—é (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –ø–æ–≤—Ç–æ—Ä–Ω–æ —Å —Ç–∞–∫–∏–º –∂–µ –ª–æ–≥–∏–Ω–æ–º –Ω–µ–ª—å–∑—è). –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ —Å–ø–µ—Ä–≤–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è —Å –ª–æ–≥–∏–Ω–æ–º tester, –∞ –∑–∞—Ç–µ–º —Å –ª–æ–≥–∏–Ω–æ–º TesteR, —Ç–æ –≤—Ç–æ—Ä–∞—è –ø–æ–ø—ã—Ç–∫–∞ –±—É–¥–µ—Ç –Ω–µ—É—Å–ø–µ—à–Ω–æ–π (–Ω–∞–¥–æ –≤—ã–≤–µ—Å—Ç–∏ NO –¥–ª—è –Ω–µ—ë).

// –ù–µ–ø–æ–ª–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è —ç—Ç–æ–π –∑–∞–¥–∞—á–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–µ) –º–æ–≥—É—Ç –±—ã—Ç—å –æ—Ü–µ–Ω–µ–Ω—ã —á–∞—Å—Ç–∏—á–Ω—ã–º –±–∞–ª–ª–æ–º.

// –í—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// –í –ø–µ—Ä–≤–æ–π —Å—Ç—Ä–æ–∫–µ –∑–∞–¥–∞–Ω–æ —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ ùë° (1‚â§ùë°‚â§104) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –Ω–∞–±–æ—Ä–æ–≤ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤ —Ç–µ—Å—Ç–µ.

// –í—Ç–æ—Ä–∞—è —Å—Ç—Ä–æ–∫–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç —Ü–µ–ª–æ–µ —á–∏—Å–ª–æ ùëõ (1‚â§ùëõ‚â§2‚ãÖ105) ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ø—ã—Ç–æ–∫ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –≤ —Å–∏—Å—Ç–µ–º–µ. –ü–æ–ø—ã—Ç–∫–∏ –∑–∞–¥–∞–Ω—ã –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ (–æ—Ç —Å–∞–º–æ–π —Ä–∞–Ω–Ω–µ–π –¥–æ —Å–∞–º–æ–π –ø–æ–∑–¥–Ω–µ–π).

// –î–∞–ª–µ–µ –∏–¥—ë—Ç ùëõ —Å—Ç—Ä–æ–∫, –∫–∞–∂–¥–∞—è —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–∞–Ω–Ω—ã–µ, –∫–æ—Ç–æ—Ä—ã–µ —É–∫–∞–∑–∞–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤ –≤–∏–¥–µ –ª–æ–≥–∏–Ω–∞. –î–ª–∏–Ω–∞ –∑–∞–¥–∞–Ω–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å –ª—é–±–æ–π –æ—Ç 1 –¥–æ 255 —Å–∏–º–≤–æ–ª–æ–≤. –í –∫–∞—á–µ—Å—Ç–≤–µ —Å–∏–º–≤–æ–ª–æ–≤ –º–æ–≥—É—Ç –±—ã—Ç—å –ª—é–±—ã–µ —Å–∏–º–≤–æ–ª—ã —Å –∫–æ–¥–∞–º–∏ –æ—Ç 33 (—Å–∏–º–≤–æ–ª '!') –¥–æ 126 (—Å–∏–º–≤–æ–ª ' ') ‚Äî —Ç–∞–∫–∏–µ —Å–∏–º–≤–æ–ª—ã –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –Ω–∞—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –±—É–∫–≤—ã —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —è–∑—ã–∫–æ–≤ –∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—Ä–æ—á–∏—Ç–∞–Ω—ã –∫–∞–∫ —Å—Ç—Ä–æ–∫–∞ —Å—Ä–µ–¥—Å—Ç–≤–∞–º–∏ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ —è–∑—ã–∫–∞ –æ–±—ã—á–Ω—ã–º —Å–ø–æ—Å–æ–±–æ–º.

// –°—É–º–º–∞ –∑–Ω–∞—á–µ–Ω–∏–π ùëõ –ø–æ –≤—Å–µ–º –Ω–∞–±–æ—Ä–∞–º –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç 2‚ãÖ105. –°—É–º–º–∞ –¥–ª–∏–Ω –ª–æ–≥–∏–Ω–æ–≤ –ø–æ –≤—Å–µ–º –Ω–∞–±–æ—Ä–∞–º –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –Ω–µ –ø—Ä–µ–≤–æ—Å—Ö–æ–¥–∏—Ç 106.

// –í—ã—Ö–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
// –í—ã–≤–µ–¥–∏—Ç–µ –æ—Ç–≤–µ—Ç—ã –Ω–∞ ùë° –Ω–∞–±–æ—Ä–æ–≤ –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ö–∞–∂–¥—ã–π –æ—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ—Å—Ç–æ—è—Ç—å –∏–∑ ùëõ —Å—Ç—Ä–æ–∫, –∫–æ—Ç–æ—Ä—ã–µ —Å–æ–¥–µ—Ä–∂–∞—Ç YES –∏–ª–∏ NO.

// –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –Ω–∞–±–æ—Ä –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –≤—ã–≤–æ–¥–∏—Ç–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏.

// –í—ã –º–æ–∂–µ—Ç–µ –≤—ã–≤–æ–¥–∏—Ç—å YES –∏ NO –≤ –ª—é–±–æ–º —Ä–µ–≥–∏—Å—Ç—Ä–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Å—Ç—Ä–æ–∫–∏ yEs, yes, Yes –∏ YES –±—É–¥—É—Ç —Ä–∞—Å–ø–æ–∑–Ω–∞–Ω—ã –∫–∞–∫ –ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç).