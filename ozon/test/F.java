import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.lang.reflect.Array;
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class Program {
    public static void main(String[] args) throws IOException {
        BufferedReader reader = new BufferedReader(new InputStreamReader(System.in));
        int countTest = Integer.parseInt(reader.readLine());
        for (int t = 0; t < countTest; t++) {

            String[] strY_X = reader.readLine().split(" ");
            boolean isShift = false;

            int y = Integer.parseInt(strY_X[0]);
            int x = Integer.parseInt(strY_X[1]);
            char [][] map = new char[y][x];
            for (int i = 0; i < y; ++i) {
                map[i] = reader.readLine().replace('.', '~').toCharArray();
            }

            for (int i = 0; i < y; ++i) { //ÑÐºÐ¸Ð´Ñ‹Ð²Ð°ÐµÐ¼ ÐºÑƒÐ±Ð¸ÐºÐ¸ Ð²Ð½Ð¸Ð·
                for(int j = 0; j < x; ++j) {
                    if (i + 1 < y) {
                        if (map[i][j] == '*' && map[i + 1][j] == '~') {
                            map[i + 1][j] = '*';
                            map[i][j] = '~';
                            i = 0;
                            isShift = true;}
                    }
                }
                if (isShift) {
                    i = -1;
                    isShift = false;
                }
            }

            for (int i = 0; i < y; ++i) { //Ñ‡Ð¸ÑÑ‚Ð¸Ð¼ Ð²Ð¾Ð´Ñƒ ÑÐ»ÐµÐ²Ð°
                for(int j = 0; j < x; ++j) {
                    if (map[i][0] == '~') {
                        map[i][0] = '.';
                    }
                    if (j - 1 >= 0) {
                        if (map[i][j] == '~' && map[i][j - 1] == '.') {
                            map[i][j] = '.';
                            map[i][j - 1] = '~';
                            j = -1;
                            continue;
                        }
                    }
                }
            }
            for (int i = 0; i < y; ++i) { //Ñ‡Ð¸ÑÑ‚Ð¸Ð¼ Ð²Ð¾Ð´Ñƒ ÑÐ¿Ñ€Ð°Ð²Ð°
                for(int j = x - 1; j >= 0; --j) {
                    if (map[i][x - 1] == '~') {
                        map[i][x - 1] = '.';
                    }
                    if (j + 1 < x) {
                        if (map[i][j] == '~' && (map[i][j + 1] == '.')) {
                            map[i][j] = '.';
                            map[i][j + 1] = '~';
                            j = x;
                            continue;
                        }
                    }
                }
            }
            for (char [] line : map) {
                System.out.println(line);
            }
            System.out.println();
        }
    }
}

// F. Ð”Ð²ÑƒÐ¼ÐµÑ€Ð½Ð°Ñ Ð¸Ð³Ñ€Ð° (25 Ð±Ð°Ð»Ð»Ð¾Ð²)
// Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð²Ñ€ÐµÐ¼ÐµÐ½Ð¸ Ð½Ð° Ñ‚ÐµÑÑ‚6 ÑÐµÐºÑƒÐ½Ð´
// Ð¾Ð³Ñ€Ð°Ð½Ð¸Ñ‡ÐµÐ½Ð¸Ðµ Ð¿Ð¾ Ð¿Ð°Ð¼ÑÑ‚Ð¸ Ð½Ð° Ñ‚ÐµÑÑ‚256 Ð¼ÐµÐ³Ð°Ð±Ð°Ð¹Ñ‚
// Ð²Ð²Ð¾Ð´ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð²Ð²Ð¾Ð´
// Ð²Ñ‹Ð²Ð¾Ð´ÑÑ‚Ð°Ð½Ð´Ð°Ñ€Ñ‚Ð½Ñ‹Ð¹ Ð²Ñ‹Ð²Ð¾Ð´
// Ð’Ñ‹ Ñ€Ð°Ð·Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°ÐµÑ‚Ðµ Ð´Ð²ÑƒÐ¼ÐµÑ€Ð½ÑƒÑŽ Ð¸Ð³Ñ€Ñƒ. ÐŸÐ¾Ð»Ðµ Ð¿Ñ€ÐµÐ´ÑÑ‚Ð°Ð²Ð»ÑÐµÑ‚ ÑÐ¾Ð±Ð¾Ð¹ Ð¿Ñ€ÑÐ¼Ð¾ÑƒÐ³Ð¾Ð»ÑŒÐ½Ð¸Ðº ð‘›Ã—ð‘š (ð‘› ÑÑ‚Ñ€Ð¾Ðº Ð¿Ð¾ ð‘š ÐºÐ»ÐµÑ‚Ð¾Ðº Ð² ÐºÐ°Ð¶Ð´Ð¾Ð¹).

// ÐšÐ°Ð¶Ð´Ð°Ñ ÐºÐ»ÐµÑ‚ÐºÐ° Ð¿Ð¾Ð»Ñ Ð»Ð¸Ð±Ð¾ Ð¿ÑƒÑÑ‚Ð°Ñ, Ð»Ð¸Ð±Ð¾ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ ÐºÐ°Ð¼ÐµÐ½Ð½Ñ‹Ð¹ Ð±Ð»Ð¾Ðº 1Ã—1. ÐšÐ¾Ð³Ð´Ð° Ð½Ð°Ñ‡Ð¸Ð½Ð°ÐµÑ‚ÑÑ Ð¸Ð³Ñ€Ð° Ð²ÑÐµ Ð±Ð»Ð¾ÐºÐ¸ Ð¿Ð°Ð´Ð°ÑŽÑ‚ Ð¼Ð°ÐºÑÐ¸Ð¼Ð°Ð»ÑŒÐ½Ð¾ Ð²Ð½Ð¸Ð·. ÐšÐ°Ñ€Ñ‚Ð¸Ð½ÐºÐ° Ð½Ð¸Ð¶Ðµ Ð¸Ð»Ð»ÑŽÑÑ‚Ñ€Ð¸Ñ€ÑƒÐµÑ‚ ÑÑ‚Ð¾Ñ‚ Ð¿Ñ€Ð¾Ñ†ÐµÑÑ.

// ÐŸÑ€Ð¸Ð¼ÐµÑ€ Ð¿Ð¾Ð»Ñ 5Ã—10: ÑÐ»ÐµÐ²Ð° Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¾ Ð¸ÑÑ…Ð¾Ð´Ð½Ð¾Ðµ Ð¿Ð¾Ð»Ðµ, ÑÐ¿Ñ€Ð°Ð²Ð°  â€” Ð¿Ð¾ÑÐ»Ðµ Ð¿Ð°Ð´ÐµÐ½Ð¸Ñ Ð²ÑÐµÑ… Ð±Ð»Ð¾ÐºÐ¾Ð² Ð²Ð½Ð¸Ð·.
// ÐŸÐ¾ÑÐ»Ðµ ÑÑ‚Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ðµ Ð·Ð°Ñ‚Ð°Ð¿Ð»Ð¸Ð²Ð°ÐµÑ‚ Ð²Ð¾Ð´Ð°, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¿Ð¾Ð´ Ð´ÐµÐ¹ÑÑ‚Ð²Ð¸ÐµÐ¼ ÑÐ¸Ð»Ñ‹ Ñ‚ÑÐ¶ÐµÑÑ‚Ð¸ ÑÑ‚Ñ€ÐµÐ¼Ð¸Ñ‚ÑÑ Ð¿Ð¾ÐºÐ¸Ð½ÑƒÑ‚ÑŒ Ð¿Ð¾Ð»Ðµ. Ð¡Ñ‡Ð¸Ñ‚Ð°Ð¹Ñ‚Ðµ, Ñ‡Ñ‚Ð¾ ÑÐ»ÐµÐ²Ð° Ð¸ ÑÐ¿Ñ€Ð°Ð²Ð° Ð¾Ñ‚ Ð¿Ð¾Ð»Ñ Ð½Ð°Ñ…Ð¾Ð´Ð¸Ñ‚ÑÑ Ð¿ÑƒÑÑ‚Ð¾Ñ‚Ð°, Ð° Ð¿Ð¾Ð»Ðµ Ñ€Ð°ÑÐ¿Ð¾Ð»Ð¾Ð¶ÐµÐ½Ð¾ Ð½Ð° Ð¿Ð¾Ð²ÐµÑ€Ñ…Ð½Ð¾ÑÑ‚Ð¸ (Ñ‚Ð¾ ÐµÑÑ‚ÑŒ Ð½Ð¸Ð¶Ð½ÑÑ Ð³Ñ€Ð°Ð½Ð¸Ñ†Ð° Ð¿Ð¾Ð»Ñ Ð½Ðµ Ð¿Ñ€Ð¾Ð¿ÑƒÑÐºÐ°ÐµÑ‚ Ð²Ð¾Ð´Ñƒ). Ð’ Ñ€ÐµÐ·ÑƒÐ»ÑŒÑ‚Ð°Ñ‚Ðµ Ñ‚Ð°ÐºÐ¾Ð³Ð¾ Ð¿Ð¾Ñ‚Ð¾Ð¿Ð° Ð½Ð° Ð¿Ð¾Ð»Ðµ Ð¼Ð¾Ð³ÑƒÑ‚ Ð¾ÑÑ‚Ð°Ñ‚ÑŒÑÑ ÑŽÐ½Ð¸Ñ‚Ñ‹ Ð²Ð¾Ð´Ñ‹. Ð’Ð¾Ð´Ð° Ð¼Ð¾Ð¶ÐµÑ‚ Ð¾ÑÑ‚Ð°Ð²Ð°Ñ‚ÑŒÑÑ Ð½Ð° Ð¿Ð¾Ð»Ðµ, ÐµÑÐ»Ð¸ Ð¾Ð½Ð° Ð¾ÐºÐ°Ð·Ñ‹Ð²Ð°ÐµÑ‚ÑÑ Ð¾Ð³Ð¾Ñ€Ð¾Ð¶ÐµÐ½Ð° Ð±Ð»Ð¾ÐºÐ°Ð¼Ð¸ (ÑÐ»ÐµÐ´ÑƒÐ¹Ñ‚Ðµ Ð·Ð´Ñ€Ð°Ð²Ð¾Ð¼Ñƒ ÑÐ¼Ñ‹ÑÐ»Ñƒ Ð¸ Ñ€Ð¸ÑÑƒÐ½ÐºÑƒ Ð½Ð¸Ð¶Ðµ, Ñ‡Ñ‚Ð¾Ð±Ñ‹ Ð¿Ð¾Ð½ÑÑ‚ÑŒ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð° Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð²Ð¾Ð´Ð° Ð¾ÑÑ‚Ð°ÐµÑ‚ÑÑ Ð½Ð° Ð¿Ð¾Ð»Ðµ).

// Ð¡Ð¿Ñ€Ð°Ð²Ð° Ð¸Ð·Ð¾Ð±Ñ€Ð°Ð¶ÐµÐ½Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ð¾Ñ‚Ð¾Ð¿Ð°.
// ÐÐ°Ð¿Ð¸ÑˆÐ¸Ñ‚Ðµ Ð¿Ñ€Ð¾Ð³Ñ€Ð°Ð¼Ð¼Ñƒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð°Ñ Ð¿Ð¾ Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ð¼Ñƒ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸ÑŽ Ð¿Ð¾Ð»Ñ Ð²ÐµÑ€Ð½Ñ‘Ñ‚ ÐµÐ³Ð¾ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¿Ð¾ÑÐ»Ðµ Ð¿Ð¾Ñ‚Ð¾Ð¿Ð°.

// Ð’Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
// Ð’ Ð¿ÐµÑ€Ð²Ð¾Ð¹ ÑÑ‚Ñ€Ð¾ÐºÐµ Ð·Ð°Ð¿Ð¸ÑÐ°Ð½Ð¾ Ñ†ÐµÐ»Ð¾Ðµ Ñ‡Ð¸ÑÐ»Ð¾ ð‘¡ (1â‰¤ð‘¡â‰¤104) â€” ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ Ð½Ð°Ð±Ð¾Ñ€Ð¾Ð² Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² Ñ‚ÐµÑÑ‚Ðµ.

// Ð”Ð°Ð»ÐµÐµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‚ Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ Ð½Ð°Ð±Ð¾Ñ€Ð¾Ð².

// ÐŸÐµÑ€Ð²Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° Ð¾Ð¿Ð¸ÑÐ°Ð½Ð¸Ñ ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ð´Ð²Ð° Ñ†ÐµÐ»Ñ‹Ñ… Ñ‡Ð¸ÑÐ»Ð° ð‘›, ð‘š (1â‰¤ð‘›â‰¤104, 1â‰¤ð‘šâ‰¤106) â€” Ñ€Ð°Ð·Ð¼ÐµÑ€Ñ‹ Ð¿Ð¾Ð»Ñ. Ð“Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ ÑÑƒÐ¼Ð¼Ð°Ñ€Ð½Ð¾Ðµ ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð²Ð¾ ÐºÐ»ÐµÑ‚Ð¾Ðº Ð¿Ð¾Ð»Ñ Ð½Ðµ Ð¿Ñ€ÐµÐ²Ð¾ÑÑ…Ð¾Ð´Ð¸Ñ‚ 106 (Ñ‚Ð¾ ÐµÑÑ‚ÑŒ ð‘›â‹…ð‘šâ‰¤106).

// Ð”Ð°Ð»ÐµÐµ ÑÐ»ÐµÐ´ÑƒÑŽÑ‚ ð‘› ÑÑ‚Ñ€Ð¾Ðº Ð¿Ð¾ ð‘š ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð² Ð² ÐºÐ°Ð¶Ð´Ð¾Ð¹ â€” Ð½Ð°Ñ‡Ð°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ. ÐšÐ°Ð¶Ð´Ð°Ñ ÑÑ‚Ñ€Ð¾ÐºÐ° ÑÐ¾Ð´ÐµÑ€Ð¶Ð¸Ñ‚ Ñ‚Ð¾Ð»ÑŒÐºÐ¾ ÑÐ¸Ð¼Ð²Ð¾Ð»Ñ‹ '.' (Ð¿ÑƒÑÑ‚Ð°Ñ ÐºÐ»ÐµÑ‚ÐºÐ° Ð¿Ð¾Ð»Ñ) Ð¸ '*' (ÐºÐ°Ð¼ÐµÐ½Ð½Ñ‹Ð¹ Ð±Ð»Ð¾Ðº).

// Ð“Ð°Ñ€Ð°Ð½Ñ‚Ð¸Ñ€ÑƒÐµÑ‚ÑÑ, Ñ‡Ñ‚Ð¾ ÑÑƒÐ¼Ð¼Ð° ÐºÐ¾Ð»Ð¸Ñ‡ÐµÑÑ‚Ð² ÐºÐ»ÐµÑ‚Ð¾Ðº Ð¿Ð¾ Ð²ÑÐµÐ¼ Ð½Ð°Ð±Ð¾Ñ€Ð°Ð¼ Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð² Ñ‚ÐµÑÑ‚Ðµ Ð½Ðµ Ð¿Ñ€ÐµÐ²Ð¾ÑÑ…Ð¾Ð´Ð¸Ñ‚ 106.

// Ð’Ñ‹Ñ…Ð¾Ð´Ð½Ñ‹Ðµ Ð´Ð°Ð½Ð½Ñ‹Ðµ
// Ð”Ð»Ñ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð½Ð°Ð±Ð¾Ñ€Ð° Ð²Ñ…Ð¾Ð´Ð½Ñ‹Ñ… Ð´Ð°Ð½Ð½Ñ‹Ñ… Ð²Ñ‹Ð²ÐµÐ´Ð¸Ñ‚Ðµ Ñ„Ð¸Ð½Ð°Ð»ÑŒÐ½Ð¾Ðµ ÑÐ¾ÑÑ‚Ð¾ÑÐ½Ð¸Ðµ Ð¿Ð¾Ð»Ñ. Ð®Ð½Ð¸Ñ‚ Ð²Ð¾Ð´Ñ‹ Ð½Ð°Ð´Ð¾ Ð¾Ð±Ð¾Ð·Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ ÑÐ¸Ð¼Ð²Ð¾Ð»Ð¾Ð¼ '~' (Ñ‚Ð¸Ð»ÑŒÐ´Ð°, ascii-ÐºÐ¾Ð´ 126).

// ÐŸÐ¾ÑÐ»Ðµ ÐºÐ°Ð¶Ð´Ð¾Ð³Ð¾ Ð¿Ð¾Ð»Ñ Ð²Ñ‹Ð²Ð¾Ð´Ð¸Ñ‚Ðµ Ð¿ÐµÑ€ÐµÐ²Ð¾Ð´ ÑÑ‚Ñ€Ð¾ÐºÐ¸.

